---
title: 最大正方形
date: 2023-02-17 08:01:43
categories: 机试
math:
tags:
---
<!-- TOC -->

- [最大正方形](#最大正方形)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 最大正方形
[原题](https://leetcode.cn/problems/largest-1-bordered-square/description/)

### 题目描述
给你一个由若干 0 和 1 组成的二维网格 grid，请你找出边界全部由 1 组成的最大 正方形 子网格，并返回该子网格中的元素数量。如果不存在，则返回 0。

示例
```
输入：grid = [[1,1,1],[1,0,1],[1,1,1]]
输出：9
```
### 思路

用到前缀和的思路，把每行每列的前缀和数组保存下来，用来快速计算边界，然后依次遍历边界长度(从大到小)和左上角坐标，当满足条件时返回正方形面积即可。
### 代码
```
class Solution {
public:
    int largest1BorderedSquare(vector<vector<int>>& grid) {
        int m = grid.size(),n=grid[0].size();
        vector<vector<int>> row(m,vector<int>(n+1)),col(n,vector<int>(m+1));
        for(int i=0;i<m;++i)
        {
            for(int j=0;j<n;++j)
            {
                row[i][j+1]=row[i][j]+grid[i][j];
                col[j][i+1]=col[j][i]+grid[i][j];
            }
        }
        int d=min(m,n);
        for(;d>0;--d)
        {
            for(int i=0;i<=m-d;++i)
            {
                for(int j=0;j<=n-d;++j)
                {
                    if(row[i][j+d]-row[i][j]==d&&
                    row[i+d-1][j+d]-row[i+d-1][j]==d&&
                    col[j][i+d]-col[j][i]==d&&
                    col[j+d-1][i+d]-col[j+d-1][i]==d)
                        return d*d;
                }
            }
        }
        return 0;
    }
};
```