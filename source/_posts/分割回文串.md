---
title: 分割回文串
date: 2025-01-11 10:02:48
categories: 机试
math:
tags:
---
## 分割回文串

<!-- TOC -->

- [分割回文串](#分割回文串)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->

[原题](https://leetcode.cn/problems/palindrome-partitioning/description)


### 题目描述
给你一个字符串 s，请你将 s 分割成一些子串，使每个子串都是 
回文串。返回 s 所有可能的分割方案。

```
输入：s = "aab"
输出：[["a","a","b"],["aa","b"]]
```

### 思路
可以看作是否选择当前字符作为回文子串的最后一个字符
- 选，则判断当前子串是否为回文串，是则将当前子串加入答案，更新回文子串起点，继续递归
- 不选，则继续递归，无需更新回文子串起点
- 如果当前字符为字符串末尾，则只有选的情况，也就是不选的情况只适用于`idx<n-1`的情况
### 代码
```
class Solution {
public:
    bool check(string s,int l,int r){
        while(l<r){
            if(s[l++]!=s[r--])
                return false;
        }
        return true;
    }
    void dfs(vector<vector<string>>& ans,vector<string>& tmp,string s,int start, int idx){
        if(idx==s.size()){
            ans.push_back(tmp);
            return;
        }
        //选
        if(check(s,start,idx)){
            tmp.push_back(s.substr(start,idx-start+1));
            dfs(ans,tmp,s,idx+1,idx+1);
            tmp.pop_back();
        }
        //不选
        if(idx<s.size()-1)
            dfs(ans,tmp,s,start,idx+1);
    }
    vector<vector<string>> partition(string s) {
        vector<vector<string>> ans;
        vector<string> tmp;
        dfs(ans,tmp,s,0,0);
        return ans;
    }
};
```