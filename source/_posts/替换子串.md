---
title: 替换子串
date: 2023-02-13 08:08:43
categories: 机试
math:
tags:
---
<!-- TOC -->

- [替换子串得到平衡字符串](#替换子串得到平衡字符串)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 替换子串得到平衡字符串
[原题](https://leetcode.cn/problems/replace-the-substring-for-balanced-string/description/)
### 题目描述
有一个只含有 'Q', 'W', 'E', 'R' 四种字符，且长度为 n 的字符串。

假如在该字符串中，这四个字符都恰好出现 n/4 次，那么它就是一个「平衡字符串」。

给你一个这样的字符串 s，请通过「替换一个子串」的方式，使原字符串 s 变成一个「平衡字符串」。

你可以用和「待替换子串」长度相同的 任何 其他字符串来完成替换。

请返回待替换子串的最小可能长度。

如果原字符串自身就是一个平衡字符串，则返回 0。

示例
```
输入：s = "QQWE"
输出：1
解释：我们需要把一个 'Q' 替换成 'R'，这样得到的 "RQWE" (或 "QRWE") 是平衡的。
```
### 思路

主要用到双指针，根据题目的描述可以得知，当替换部分以外的其他字母都小于等于`n/4`时，替换后才能符合要求。因此右指针向右移动，当符合要求时，更新答案，左指针缩小子串长度。

### 代码
```
class Solution {
public:
    int balancedString(string s) {
        int n=s.size();
        int m=n/4;
        vector<int> cnt(26);
        for(char c:s)
        {
            ++cnt[c-'A'];
        }
        int l=0,r=0;
        int ans=1e9;
        if(cnt['Q'-'A']==m&&cnt['W'-'A']==m&&cnt['E'-'A']==m&&cnt['R'-'A']==m)
            return 0;
        for(r=0;r<n;++r)
        {
            --cnt[s[r]-'A'];
            while(cnt['Q'-'A']<=m&&cnt['W'-'A']<=m&&cnt['E'-'A']<=m&&cnt['R'-'A']<=m)
            {
                ans=min(ans,r-l+1);
                ++cnt[s[l]-'A'];
                ++l;
            }
        }
        return ans;
    }
};
```