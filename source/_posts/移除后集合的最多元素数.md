---
title: 移除后集合的最多元素数
date: 2024-01-07 20:59:48
categories: 机试
math:
tags:
---
<!-- TOC -->

- [移除后集合的最多元素数](#移除后集合的最多元素数)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 移除后集合的最多元素数
[原题](https://leetcode.cn/problems/maximum-size-of-a-set-after-removals/description/)
### 题目描述
给你两个下标从 0 开始的整数数组 nums1 和 nums2 ，它们的长度都是偶数 n 。

你必须从 nums1 中移除 n / 2 个元素，同时从 nums2 中也移除 n / 2 个元素。移除之后，你将 nums1 和 nums2 中剩下的元素插入到集合 s 中。

返回集合 s可能的 最多 包含多少元素。

 

```
示例 1：
输入：nums1 = [1,2,1,2], nums2 = [1,1,1,1]
输出：2
解释：从 nums1 和 nums2 中移除两个 1 。移除后，数组变为 nums1 = [2,2] 和 nums2 = [1,1] 。因此，s = {1,2} 。
可以证明，在移除之后，集合 s 最多可以包含 2 个元素。
```
### 思路
周赛第3题，思路很巧妙，自己没有想到。题目希望s中的不同元素尽可能多，也就是说应该尽可能从两个数组的交集移除元素，换句话说就是尽可能保留两个数组自身独有的不同元素，如果数组长度为n，两个数组独有的不同元素个数为cnt1,cnt2，应当优先添加两个数组独有的元素到s，再添加交集的元素到s。

- 首先两个数组因为要移除n/2个元素，所以cnt1，cnt2都应满足小于等于n/2
- 然后s中的最大元素个数为n，在添加了cnt1,cnt2后，最多还能添加n-cnt1-cnt2个不同元素，这部分元素需要从交集中获取，因此总的答案为`cnt1+cnt2+min(n-cnt1-cnt2,cnt3)`，其中cnt3为交集中的元素个数。
### 代码
```
class Solution
{
public:
    int maximumSetSize(vector<int> &nums1, vector<int> &nums2)
    {
        int n = nums1.size();
        unordered_set<int> s1(nums1.begin(), nums1.end());
        unordered_set<int> s2(nums2.begin(), nums2.end());
        int cnt1 = s1.size(), cnt2 = s2.size();
        int cnt3 = 0;
        for (int x : s1)
        {
            if (s2.find(x) != s2.end())
                cnt3++;
        }
        cnt1 -= cnt3;
        cnt2 -= cnt3;
        cnt1 = min(cnt1, n / 2);
        cnt2 = min(cnt2, n / 2);
        return cnt1 + cnt2 + min(n - cnt1 - cnt2, cnt3);
    }
};
```