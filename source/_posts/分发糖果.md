---
title: 分发糖果
date: 2023-11-08 09:20:35
categories: 机试
math:
tags:
---
<!-- TOC -->

- [分发糖果](#分发糖果)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 分发糖果
[原题](https://leetcode.cn/problems/candy/description/?envType=study-plan-v2&envId=top-interview-150)
### 题目描述
n 个孩子站成一排。给你一个整数数组 ratings 表示每个孩子的评分。

你需要按照以下要求，给这些孩子分发糖果：

每个孩子至少分配到 1 个糖果。
相邻两个孩子评分更高的孩子会获得更多的糖果。
请你给每个孩子分发糖果，计算并返回需要准备的 最少糖果数目 。

e.g.
```
输入：ratings = [1,0,2]
输出：5
解释：你可以分别给第一个、第二个、第三个孩子分发 2、1、2 颗糖果。
```

### 思路
可以分别从左右两边开始遍历，当满足顺序要求时，糖果数加1，当不满足时糖果数为1，然后统计每个人左右两种顺序下的最大值累加到答案中即可。

### 代码
```
class Solution {
public:
    int candy(vector<int>& ratings) {
        int n=ratings.size();
        vector<int> left(n);
        left[0]=1;
        for(int i=1;i<n;++i)
        {
            if(ratings[i]>ratings[i-1])
                left[i]=left[i-1]+1;
            else
                left[i]=1;
        }
        int r=1;
        int res=0;
        for(int i=n-1;i>=0;--i)
        {
            if(i+1<n&&ratings[i]>ratings[i+1])
                ++r;
            else
                r=1;
            res+=max(r,left[i]);            
        }
        return res;
    }
};
```
