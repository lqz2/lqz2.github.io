---
title: 按列翻转得到最大值等行数
date: 2023-05-15 07:30:29
categories: 机试
math:
tags:
---
<!-- TOC -->

- [按列翻转得到最大值等行数](#按列翻转得到最大值等行数)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 按列翻转得到最大值等行数
[原题](https://leetcode.cn/problems/flip-columns-for-maximum-number-of-equal-rows/description/)

### 题目描述
给定 m x n 矩阵 matrix 。

你可以从中选出任意数量的列并翻转其上的 每个 单元格。（即翻转后，单元格的值从 0 变成 1，或者从 1 变为 0 。）

返回 经过一些翻转后，行与行之间所有值都相等的最大行数 。

e.g.
```
输入：matrix = [[0,1],[1,1]]
输出：1
解释：不进行翻转，有 1 行所有值都相等。
```
### 思路
因为最终统计的行都是全0或者全1，所以这道题的最终目的是找到互补的行数，所以对各行中首个元素为1的行取反，然后将每行转换成字符串，用哈系表统计相同行的最大数量即可。
### 代码
```
class Solution {
public:
    int maxEqualRowsAfterFlips(vector<vector<int>>& matrix) {
        int n=matrix[0].size();
        int ans=0;
        unordered_map<string,int> mp;
        for(vector<int>& t:matrix)
        {
            string s(n,0);
            for(int i=0;i<n;++i)
                s[i]=t[i]^t[0];
            ++mp[s];
            ans=max(ans,mp[s]);
        }
        return ans;
    }
};
```