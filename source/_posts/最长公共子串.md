---
title: 最长公共子串
date: 2022-11-27 15:15:49
categories: 机试
math:
tags:
---
<!-- TOC -->

- [最长公共子串](#最长公共子串)
    - [题目要求](#题目要求)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 最长公共子串

### 题目要求

给定两个字符串str1和str2,输出两个字符串的最长公共子串，如果最长公共子串为空，输出-1。

### 思路

一道模板题，这里要输出最长的公共子串而不是其长度，代码如下

注意，`starti`从第一个字符串末尾开始，`startj`从第二个字符串开头开始

### 代码
```
#include<bits/stdc++.h>
using namespace std;
string maxsubstr(string s1,string s2)
{
	int l1=s1.size();
	int l2=s2.size();
	int maxlen=0,curlen=0;
	int starti=l1-1,startj=0;
	int endi=-1;
	while(startj<l2)
	{
		curlen=0;
		for(int i=starti,j=startj;i<l1&&j<l2;++i,++j)
		{
			if(s1[i]==s2[j])
			{
				++curlen;
				if(curlen>maxlen)
				{
					maxlen=curlen;
					endi=i;
				}
			}
			else
				curlen=0;
		}
		if(starti>0)
			--starti;
		else
			++startj;
	}
	return maxlen==0 ? "-1":s1.substr(endi-maxlen+1,maxlen);
}

int main()
{
	string s1,s2;
	cin>>s1>>s2;
	cout<<maxsubstr(s1,s2)<<endl;
	return 0;
	
} 
```