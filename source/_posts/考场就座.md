---
title: 考场就座
date: 2022-12-30 08:44:36
categories: 机试
math:
tags:
---

<!-- TOC -->

- [考场就座](#考场就座)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->

## 考场就座
[原题](https://leetcode.cn/problems/exam-room/description/)
### 题目描述
在考场里，一排有 N 个座位，分别编号为 0, 1, 2, ..., N-1 。

当学生进入考场后，他必须坐在能够使他与离他最近的人之间的距离达到最大化的座位上。如果有多个这样的座位，他会坐在编号最小的座位上。(另外，如果考场里没有人，那么学生就坐在 0 号座位上。)

返回 ExamRoom(int N) 类，它有两个公开的函数：其中，函数 ExamRoom.seat() 会返回一个 int （整型数据），代表学生坐的位置；函数 ExamRoom.leave(int p) 代表坐在座位 p 上的学生现在离开了考场。每次调用 ExamRoom.leave(p) 时都保证有学生坐在座位 p 上。
### 思路

这道题主要解决坐在哪里的问题，设置一个`set`，每次安排座位，遍历一遍`set`，找出最大位置处，在此过程中，需要一个`pre`记录上一个座位的位置，然后`maxd`记录当前最大距离，如果当前位置距离大于`maxd`,那就更新插入位置和`maxd`即可

### 代码
```
class ExamRoom {
public:
    int m;
    set<int> st;
    ExamRoom(int n) {
        m=n;
    }
    
    int seat() {
        if(st.empty())
        {
            st.insert(0);
            return 0;
        }
        int pre=-1,maxd=0,p=0;
        for(auto& t:st)
        {
            int d=(t-pre)/2;
            if(d>maxd)
            {
                maxd=d;
                p= pre==-1?0:pre+d;
            }
            pre=t;
        }
        if(m-1-pre>maxd)
            p=m-1;
        st.insert(p);
        return p;
    }
    
    void leave(int p) {
        st.erase(p);
    }
};
```

