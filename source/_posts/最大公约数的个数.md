---
title: 最大公约数的个数
date: 2023-01-14 10:19:36
categories: 机试
math:
tags:
---
## 最大公约数的个数
[原题]()
### 题目描述
给你一个由正整数组成的数组 nums 。

数字序列的 最大公约数 定义为序列中所有整数的共有约数中的最大整数。

例如，序列 [4,6,16] 的最大公约数是 2 。
数组的一个 子序列 本质是一个序列，可以通过删除数组中的某些元素（或者不删除）得到。

例如，[2,5,10] 是 [1,2,1,2,4,1,5,10] 的一个子序列。
计算并返回 nums 的所有 非空 子序列中 不同 最大公约数的 数目 。
```
输入：nums = [6,10,3]
输出：5
解释：不同的最大公约数为 6 、10 、3 、2 和 1 。
```
### 思路
参考了大佬的思路，枚举`1~maxval`之间的数作为最大公约数的倍数，例如[1,2,3,...]，[2,4,6,...]，当某个数在nums中时，更新该子序列的最大公约数，如果循环结束最大公约数等于开始时的值，则`++ans`，可以通过代码帮助理解。
### 代码
```
class Solution {
public:
    int countDifferentSubsequenceGCDs(vector<int>& nums) {
        int ans=0;
        int maxv=*max_element(nums.begin(),nums.end());
        vector<bool> vis(maxv+1,false);
        for(int &t:nums)
            vis[t]=true;
        for(int i=1;i<=maxv;++i)
        {
            int t=0;
            for(int j=i;j<=maxv&&t!=i;j+=i)
            {
                if(vis[j]==true)
                    t=gcd(t,j);
            }
            if(t==i)
                ++ans;
        }
        return ans;
    }
};
```