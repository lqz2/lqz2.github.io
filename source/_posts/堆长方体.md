---
title: 堆长方体
date: 2022-12-10 08:37:21
categories: 机试
math:
tags:
---
<!-- TOC -->

- [堆长方体](#堆长方体)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->

## 堆长方体
[原题](https://leetcode.cn/problems/maximum-height-by-stacking-cuboids/description/)
### 题目描述
给你 n 个长方体 cuboids ，其中第 i 个长方体的长宽高表示为 cuboids[i] = [widthi, lengthi, heighti]（下标从 0 开始）。请你从 cuboids 选出一个 子集 ，并将它们堆叠起来。

如果 widthi <= widthj 且 lengthi <= lengthj 且 heighti <= heightj ，你就可以将长方体 i 堆叠在长方体 j 上。你可以通过旋转把长方体的长宽高重新排列，以将它放在另一个长方体上。

返回 堆叠长方体 cuboids 可以得到的 最大高度 。

示例:
```
输入：cuboids = [[50,45,20],[95,37,53],[45,23,12]]
输出：190
解释：
第 1 个长方体放在底部，53x37 的一面朝下，高度为 95 。
第 0 个长方体放在中间，45x20 的一面朝下，高度为 50 。
第 2 个长方体放在上面，23x12 的一面朝下，高度为 45 。
总高度是 95 + 50 + 45 = 190 。
```
### 思路

用到动态规划的思路，`dp[i]`表示到第i个长方体的最大高度，状态方程为`dp[i]=max(dp[i],dp[j]+cu[i][2])`

动态规划之前，先对每个长方体内部排序，然后按`w,h,l`之和排序
### 代码
```
class Solution {
public:
    int maxHeight(vector<vector<int>>& cuboids) {
        int n=cuboids.size();
        for(auto& t:cuboids)
        {
            sort(t.begin(),t.end());
        }
        sort(cuboids.begin(),cuboids.end(),[&](vector<int>& a,vector<int>& b){
            return a[0]+a[1]+a[2]<b[0]+b[1]+b[2];
        });
        vector<int> dp(n);
        int ans=0;
        for(int i=0;i<n;++i)
        {
            dp[i]=cuboids[i][2];
            for(int j=0;j<i;++j)
            {
                if(cuboids[i][0]>=cuboids[j][0]&&cuboids[i][1]>=cuboids[j][1]&&cuboids[i][2]>=cuboids[j][2])
                {
                    dp[i]=max(dp[i],dp[j]+cuboids[i][2]);
                }
            }
            ans=max(ans,dp[i]);
        }
        return ans;
    }
};
```