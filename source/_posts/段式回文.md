---
title: 段式回文
date: 2023-04-12 08:16:06
categories: 机试
math:
tags:
---
<!-- TOC -->

- [段式回文](#段式回文)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 段式回文
[原题](https://leetcode.cn/problems/longest-chunked-palindrome-decomposition/description/)
### 题目描述
你会得到一个字符串 text 。你应该把它分成 k 个子字符串 (subtext1, subtext2，…， subtextk) ，要求满足:

* subtexti 是 非空 字符串
* 所有子字符串的连接等于 text ( 即subtext1 + subtext2 + ... + subtextk == text )
* 对于所有 i 的有效值( 即 1 <= i <= k ) ，subtexti == subtextk - i + 1 均成立
返回k可能最大值。

e.g.
```
输入：text = "ghiabcdefhelloadamhelloabcdefghi"
输出：7
解释：我们可以把字符串拆分成 "(ghi)(abcdef)(hello)(adam)(hello)(abcdef)(ghi)"。
``` 
### 思路
枚举子串的长度`i`，分别截取前后长度为`i`的子串，如果相等，答案加2，否则继续枚举，当`i>text.length/2`时，说明已经不可再分，答案加1
### 代码
```
class Solution {
public:
    int longestDecomposition(string text) {
        int ans=0;
        while(!text.empty())
        {
            int i=1,n=text.length();
            while(i<=n/2&&text.substr(0,i)!=text.substr(n-i))
                ++i;
            if(i>n/2)
            {
                ++ans;
                break;
            }
            ans+=2;
            text=text.substr(i,n-i*2);
        }
        return ans;
    }
};
```