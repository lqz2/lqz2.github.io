---
title: 得分最高单词集合
date: 2023-02-26 08:19:20
categories: 机试
math:
tags:
---
<!-- TOC -->

- [得分最高单词集合](#得分最高单词集合)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 得分最高单词集合
[原题](https://leetcode.cn/problems/maximum-score-words-formed-by-letters/description/)
### 题目描述
你将会得到一份单词表 words，一个字母表 letters （可能会有重复字母），以及每个字母对应的得分情况表 score。

请你帮忙计算玩家在单词拼写游戏中所能获得的「最高得分」：能够由 letters 里的字母拼写出的 任意 属于 words 单词子集中，分数最高的单词集合的得分。

单词拼写游戏的规则概述如下：

玩家需要用字母表 letters 里的字母来拼写单词表 words 中的单词。
可以只使用字母表 letters 中的部分字母，但是每个字母最多被使用一次。
单词表 words 中每个单词只能计分（使用）一次。
根据字母得分情况表score，字母 'a', 'b', 'c', ... , 'z' 对应的得分分别为 score[0], score[1], ..., score[25]。
本场游戏的「得分」是指：玩家所拼写出的单词集合里包含的所有字母的得分之和。

e.g.
```
输入：words = ["dog","cat","dad","good"], letters = ["a","a","c","d","d","d","g","o","o"], score = [1,0,9,5,0,0,3,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0]
输出：23
解释：
字母得分为  a=1, c=9, d=5, g=3, o=2
使用给定的字母表 letters，我们可以拼写单词 "dad" (5+1+5)和 "good" (3+2+2+5)，得分为 23 。
而单词 "dad" 和 "dog" 只能得到 21 分。
```
### 思路
这道题主要用到状态压缩的思想，对于words中的每个单词，都可以用`0/1`来表示他是否被使用，比如'`110`可以表示使用了第二个和第三个单词，假设words中共有`n`个单词，那么一共有`1<<n`种状态，需要遍历所有状态。每次遍历时，以此遍历words中的单词，判断是否在当前状态里，如果在的话，统计各个字母出现的次数，每遍历完一个状态，计算一次得分，并更新最高分数即可。
### 代码
```
class Solution {
public:
    int maxScoreWords(vector<string>& words, vector<char>& letters, vector<int>& score) {
        int n=words.size();
        vector<int> cnt(26);
        for(char & c:letters)
            ++cnt[c-'a'];
        int num=1<<n;
        int ans=0;
        for(int i=1;i<num;++i)
        {
            vector<int> t(26);
            for(int j=0;j<n;++j)
            {
                if((1<<j)&i)
                {
                    for(char&c:words[j])
                        ++t[c-'a'];
                }
            }
            bool flag=true;
            int sum=0;
            for(int k=0;k<26;++k)
            {
                sum+=score[k]*t[k];
                if(t[k]>cnt[k])
                {
                    flag=false;
                    break;
                }
            }
            if(flag)
                ans=max(ans,sum);
        }
        return ans;
    }
};
```