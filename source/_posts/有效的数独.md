---
title: 有效的数独
date: 2024-09-20 09:18:17
categories: 机试
math:
tags:
---
## 有效的数独

<!-- TOC -->

- [有效的数独](#有效的数独)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->

[原题](https://leetcode.cn/problems/valid-sudoku/description)


### 题目描述
请你判断一个 9 x 9 的数独是否有效。只需要 根据以下规则 ，验证已经填入的数字是否有效即可。

数字 1-9 在每一行只能出现一次。
数字 1-9 在每一列只能出现一次。
数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。

```
输入：board = 
[["5","3",".",".","7",".",".",".","."]
,["6",".",".","1","9","5",".",".","."]
,[".","9","8",".",".",".",".","6","."]
,["8",".",".",".","6",".",".",".","3"]
,["4",".",".","8",".","3",".",".","1"]
,["7",".",".",".","2",".",".",".","6"]
,[".","6",".",".",".",".","2","8","."]
,[".",".",".","4","1","9",".",".","5"]
,[".",".",".",".","8",".",".","7","9"]]
输出：true
```
### 思路
用三个数组分别表示每行每列，每个九宫格的数字摆放情况：
- row[i][num]，第i行数字num+1出现的次数
- col[j][num]，第j列数字num+1出现的次数
- box[i/3][j/3][num]，对应小九宫格内的数字num+1出现的次数

每次填入数字后，若出现次数大于2,则返回false即可。
### 代码
```
class Solution {
public:
    bool isValidSudoku(vector<vector<char>>& board) {
        int rows[9][9];
        int cols[9][9];
        int box[3][3][9];
        memset(rows,0,sizeof(rows));
        memset(cols,0,sizeof(cols));
        memset(box,0,sizeof(box));
        char c;
        int t;
        for(int i=0;i<9;++i){
            for(int j=0;j<9;++j){
                c=board[i][j];
                if(c!='.'){
                    t=c-'0';
                    ++rows[i][t-1];
                    ++cols[j][t-1];
                    ++box[i/3][j/3][t-1];
                    if(rows[i][t-1]>1||cols[j][t-1]>1||box[i/3][j/3][t-1]>1)
                        return false;
                }
            }
        }
        return true;
    }
};
```