---
title: 日期计算
date: 2022-08-29 15:05:12
categories: 机试
math: true
tags:
---

先来看一道题

输入一年中的一天，输出这一天是星期几

input:
```
14 October 2001
```
output:
```
Sunday
```

用以下公式计算天数：

$S=X-1+(X-1)/4-(X-1)/100+(X-1)/400+C$

其中，`X`是年份，`C`表示这一天是这一年的第`C`天

计算出`S`后用`S%7`判断星期几即可

代码：
```
#include<bits/stdc++.h>
using namespace std;
// S=X-1+(X-1)/4-(X-1)/100+(X-1)/400+C
bool isrun(int n)
{
    if(n%4==0&&n%100||n%400==0)
        return true;
    return false;
}
int main()
{
    int d,y;
    string m;
    vector<pair<string,int>> mon={{"January",31},{"February",28},
    {"March",31},{"April",30},{"May",31},{"June",30},{"July",31},
    {"August",31},{"September",30},{"October",31},{"November",30},
                                  {"December",31}};
    while(cin>>d>>m>>y)
    {
        int flag=0;
        if(isrun(y))
            flag=1;
        int sum=0;
        for(auto it=mon.begin();it!=mon.end();++it)
        {
            if(it->first!=m)   
                sum+=it->second;
            else
                break;
        }
        sum=sum+d+flag;
        int s=y-1+(y-1)/4-(y-1)/100+(y-1)/400+sum;
        switch(s%7)
        {
            case 0: 
                cout<<"Sunday"<<endl;
                break;
            case 1: 
                cout<<"Monday"<<endl;
                break;
            case 2: 
                cout<<"Tuesday"<<endl;
                break;
            case 3: 
                cout<<"Wednesday"<<endl;
                break;
            case 4: 
                cout<<"Thursday"<<endl;
                break;
            case 5: 
                cout<<"Friday"<<endl;
                break;
            case 6: 
                cout<<"Saturday"<<endl;
                break;
        }
    }
    return 0;
}
```
