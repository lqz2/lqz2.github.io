---
title: 检查替换后的词是否有效
date: 2023-05-03 08:00:13
categories: 机试
math:
tags:
---
<!-- TOC -->

- [检查替换后的词是否有效](#检查替换后的词是否有效)
    - [题目描述](#题目描述)
    - [思路](#思路)
    - [代码](#代码)

<!-- /TOC -->
## 检查替换后的词是否有效
[原题](https://leetcode.cn/problems/check-if-word-is-valid-after-substitutions/description/)
### 题目描述
给你一个字符串 s ，请你判断它是否 有效 。
字符串 s 有效 需要满足：假设开始有一个空字符串 t = "" ，你可以执行 任意次 下述操作将 t 转换为 s ：

将字符串 "abc" 插入到 t 中的任意位置。形式上，t 变为 tleft + "abc" + tright，其中 t == tleft + tright 。注意，tleft 和 tright 可能为 空 。
如果字符串 s 有效，则返回 true；否则，返回 false。

e.g.
```输入：s = "aabcbc"
输出：true
解释：
"" -> "abc" -> "aabcbc"
因此，"aabcbc" 有效。
```
### 思路
创建一个栈,然后遍历字符串s，如果遇到a，就加入栈，遇到b，检查一下栈顶是否为a，是的话把b入栈，否则返回false，遇到c，依次检查栈顶是否是ba，是则弹出栈顶两个元素，否则返回false。最后如果栈非空，返回false。
### 代码
```
class Solution {
public:
    bool isValid(string s) {
        stack<char> st;
        for(char c:s)
        {
            if(c=='a')
                st.push(c);
            else if(c=='b'&&!st.empty()&&st.top()=='a')
                st.push(c);
            else if(c=='c'&&!st.empty()&&st.top()=='b')
            {
                st.pop();
                if(!st.empty()&&st.top()=='a')
                    st.pop();
                else
                    return false;
            }
            else
                return false;
        }
        if(!st.empty())
            return false;
        return true;;
    }
};
```