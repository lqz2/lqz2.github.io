---
title: 相关问题及解决方法
date: 2023-08-11 17:58:23
categories: 资料
math:
tags:
---
<!-- TOC -->

- [这里记录了遇到的一些问题和解决方法:rainbow::rainbow::rainbow:](#这里记录了遇到的一些问题和解决方法rainbowrainbowrainbow)
    - [第一周:rainbow:](#第一周rainbow)

<!-- /TOC -->
## 这里记录了遇到的一些问题和解决方法:rainbow::rainbow::rainbow:
### 第一周:rainbow:
1. windows环境下安装pycocotools报错：ERROR: Could not build wheels for pycocotools, which is required to install pyproject.toml-based projects，解决方法：(http://t.csdn.cn/Z9643)
2. windows环境下安装mmcv库报错：ERROR:Could not build wheels for mmcv, which is required to install pyproject.toml-based projects，解决方法：先pip install openmim，然后mim install mmcv
3. 训练时出现OSError: [WinError 1455] 页面文件太小,无法完成操作，原因是dataloader的num_worker设置的太大，CPU线程不支持，解决方法：num_worker设置小一些即可
4. TarDAL代码中，检测部分yolov5s网络输出的结果shape不一致，解决办法：调试之后发现yolov5源码中会根据当前模式(train or eval)选择输出
5. MetaFusion论文并未提供详细代码，只提供了测试代码，因此无法得知网络具体的训练策略以及损失计算的详细过程。
6. 训练TarDAL时，自己训练的子模型无法加载到下一个子模型中，而论文提供的预训练模型却可以。解决方法：该篇论文提供的源码存在诸多问题，经过多番调试发现，自己训练的模型无法加载的原因是因为判别器模型linear层参数的size与当前判别器模型对应层参数size不匹配，而提供的预训练权重可以正常加载的原因是预训练权重只包含了生成器的权重，因此代码在加载预训练权重时没有加载判别器权重。进一步调试后发现，linear层参数size不匹配的原因是不同子模型训练时输入图片的大小不一致，导致后续子模型无法加载权重。
7. 训练时梯度回传时出现nan。解决方法：先检查数据有没有问题，没有问题则尝试将对应的学习率调低。
