---
title: 只出现一次数字系列
date: 2025-03-21 09:00:41
categories: 机试
math:
tags:
---
# 只出现一次数字系列
<!-- TOC -->

- [只出现一次数字系列](#只出现一次数字系列)
    - [有1个出现1次，其他出现2次](#有1个出现1次其他出现2次)
        - [题目描述](#题目描述)
        - [思路](#思路)
        - [代码](#代码)
    - [有2个出现1次，其他出现2次](#有2个出现1次其他出现2次)
        - [题目描述](#题目描述-1)
        - [思路](#思路-1)
        - [代码](#代码-1)
    - [有1个出现1次，其他出现3次](#有1个出现1次其他出现3次)
        - [题目描述](#题目描述-2)
        - [思路](#思路-2)
        - [代码](#代码-2)

<!-- /TOC -->
## 有1个出现1次，其他出现2次

[原题](https://leetcode.cn/problems/single-number/description)


### 题目描述
给你一个 非空 整数数组 nums ，除了某个元素只出现一次以外，其余每个元素均出现两次。找出那个只出现了一次的元素。

你必须设计并实现线性时间复杂度的算法来解决此问题，且该算法只使用常量额外空间。
### 思路
直接异或

### 代码
```
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        int t=0;
        for(int a:nums)
            t=a^t;
        return t;
    }
};
```

## 有2个出现1次，其他出现2次

[原题](https://leetcode.cn/problems/single-number-iii/description/)


### 题目描述
给你一个整数数组 nums，其中恰好有两个元素只出现一次，其余所有元素均出现两次。 找出只出现一次的那两个元素。你可以按 任意顺序 返回答案。

你必须设计并实现线性时间复杂度的算法且仅使用常量额外空间来解决此问题。
### 思路
先异或，再分两组异或

### 代码
```
class Solution {
public:
    vector<int> singleNumber(vector<int>& nums) {
        int sum=0;
        for(int t:nums)
            sum=sum^t;
        int offset=0;
        while(((sum>>offset)&1)==0)
            ++offset;
        int a=0,b=0;
        for(int t:nums){
            if(((t>>offset)&1)==1)
                a^=t;
            else
                b^=t;
        }
        return {a,b};
    }
};
```
## 有1个出现1次，其他出现3次

[原题](https://leetcode.cn/problems/WGki4K/description/)


### 题目描述
给你一个整数数组 nums ，除某个元素仅出现 一次 外，其余每个元素都恰出现 三次 。请你找出并返回那个只出现了一次的元素。
### 思路
参考[题解](https://leetcode.cn/problems/WGki4K/solutions/976992/jian-zhi-offer-ii-004-zhi-chu-xian-yi-ci-l3ud)

### 代码
```
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        int once=0,twice=0;
        for(int t:nums){
            once=~twice&(t^once);
            twice=~once&(t^twice);
        }
        return once;
    }
};
```